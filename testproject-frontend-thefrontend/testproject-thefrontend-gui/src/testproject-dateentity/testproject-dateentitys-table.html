<!--
  This file will be overwritten on every change of the model!
  This file was automatically generated by Barrakuda.
-->
<link rel="import" href="../../bower_components/polymer/polymer-element.html">
<link rel="import" href="./testproject-dateentitys-generic-list.html">

<dom-module id="testproject-dateentitys-table">
    <template>

      <testproject-dateentitys-generic-list
          id="list"
          name=""
          url="[[url]]"
          default-search='[[defaultSearch]]'
          display-type='table'
          show-icons='[[showIcons]]'
          load-complete-data="[[loadCompleteData]]"
          edit-path="[[editPath]]"
          edit-paths="[[editPaths]]"
          create-path="[[createPath]]"
          on-filter-data="[[filterData]]"
          filtered-data="[[filteredData]]"
          all-filters-url="[[allFiltersUrl]]"
          results-text="{{_resultsText}}"
          resources="[[resources]]" lang="[[lang]]"
          multi-sort="[[multiSort]]"
          hide-header="[[hideHeader]]"
          hide-new="[[hideNew]]"
          hide-delete="[[hideDelete]]"
          hide-edit="[[hideEdit]]"
          hide-filter="[[hideFilter]]"
          disable-filter="[[disableFilter]]"
          disable-delete="[[disableDelete]]"
          disable-new="[[disableNew]]"
          icon="[[icon]]"
          show-results="[[showResults]]"
          resultsText="[[resultsText]]"
          search-filters="[[searchFilters]]"
          resources="[[resources]]" lang="[[lang]]"
          hidden-columns="[[hiddenColumns]]"
          >
      </testproject-dateentitys-generic-list>
    </template>

    <script>
      /*
       * `testproject-dateentitys-table` ist eine Liste zur Anzeige von Wärtern, die über die angegebene [url](#/elements/testproject-dateentitys-table#property-url)
       * gesucht werden.
       *
       * Die Liste wird beim ersten Instantiieren vom Backend geladen und befüllt. Sie lässt sich über einen Filter
       * filtern.
       *
       * Die angezeigten Datensätze können sortiert und gelöscht werden.
       *
       * Die Navigation auf die Forms [`<testproject-dateentity-create-form>`](#/elements/testproject-dateentity-create-form)
       * und [`<testproject-dateentity-update-form>`](#/elements/testproject-dateentity-update-form)
       * zur Neuanlage bzw. zum Editieren eines Datensatzes ist möglich.
       *
       * #### Beispiel:
       *
       *     <testproject-dateentitys-table name=""
       *       url="http://localhost:39146/dateEntitys"
       *       default-search='$t(theDate):"12.12.2012" $t(theDateTime):"01.01.2001 10:15:30" $t(theTime):"12:12:12" '
       *       route="{{subroute}}"
       *       edit-path="/dateentitys-view/edit"
       *       create-path="/dateentitys-view/create">
       *     </testproject-dateentitys-table>
       *
       * @polymer
       * @customElement
       **/
      class TestprojectDateentitysTable extends Polymer.Element {

        static get is() { return 'testproject-dateentitys-table'; }

        static get properties() {
          return {
              /*
               * `data` enthält die ungefilterten, gefundenen Datensätze als Array.
               */
               data: {
                type: Array,
                value() {
                  return [];
                }
              },
              /*
              *  filteredData enthält alle Objekte, die auf angegebene oder ausgewählte Filter zutreffen.
              *  Die Liste zeigt die Einträge aus filteredData an.
              */
              filteredData: {
                type: Array,
                value() {
                  return this.data;
                }
              },
              /*
              * Das `allFiltersUrl` property gibt an, über welche URL selektierbare Filter geladen werden können.
              * Die Antwort muss ein REST-Objekt mit folgender Struktur sein:

              * `{"filters": [{id, [{id, label}, {id2, label2}, ...}, {id2, [{id, label}, ...]}, ...]}`
              *
              * Ist `allFiltersUrl` nicht gesetzt, so wird der Filter-Button im Suche- bzw. Filter-Feld nicht angezeigt.
              *
              * `filters.id` und `filters.filters.label` können lokalisiert werden. Beispiel für ein allFilters Objekt:
              *
              *     { "filters" : [
              *          {
              *            "id": "birthday",
              *            "filters": [
              *              {"id": "0", "label": "filter_birthday_before_1980"},
              *              {"id": "1", "label": "filter_birthday_1980_1990"},
              *              {"id": "2", "label": "filter_birthday_after_1990"}
              *            ]
              *          },
              *          {
              *            "id": "salary",
              *            "filters": [
              *              {"id": "0", "label": "filter_salary_less_1000"},
              *              {"id": "1", "label": "filter_salary_1000_2000"},
              *              {"id": "2", "label": "filter_salary_2000_3000"},
              *              {"id": "3", "label": "filter_salary_more_3000"}
              *            ]
              *          }
              *        ] }
              *
              * Werden selektierbare Filter verwendet, so muss die Methode
              * [`_useSelectedFilters`](#/elements/testproject-dateentity-list#method-_useSelectedFilters) implementiert werden.
              */
              allFiltersUrl: {
                type: String
              },
              /*
              * `defaultSearch` enthält die Vorbelegung für den Suche-String, der im Suche-Feld beim Öffnen der Liste angezeigt wird.
              */
              defaultSearch: {
                type: String,
                value: ""
              },
              // backend stuff
              /*
              *   `url` ist die URL zur Backend-Suche
              */
               url: {
                 type: String,
                 value: ""
               },
               /*
                *`multiSort` gibt an, ob in der Tabelle nach mehreren Feldern sortiert
                * werden kann (multi-sort = "true") oder nicht (multi-sort = "false").
                * Standard: `false`
               */
               multiSort: {
                type: Boolean,
                value: false
               },
               /*
               * `hideHeader` gibt an, ob der Listen-Header angezeigt werden soll oder nicht.
               * Beim Setzen des Attributs "hide-header" wird der Header nicht angezeigt.
               */
               hideHeader: {
                type: Boolean,
                value: false
               },
               /*
               * `hideNew` gibt an, ob der Neu-Button angezeigt werden soll oder nicht.
               * Beim Setzen des Attributs "hide-new" wird der Button nicht angezeigt.
               */
               hideNew: {
                type: Boolean,
                value: false
               },
               /*
               * `hideDelete` gibt an, ob die Löschen-Buttons im Listen-Header und in den Listen-Zeilen
               * angezeigt werden sollen oder nicht.
               * Beim Setzen des Attributs "hide-delete" werden die Buttons nicht angezeigt.
               */
               hideDelete: {
                type: Boolean,
                value: false
               },
               /*
               * `hideEdit` gibt an, ob die Edit-Buttons in den Listen-Zeilen
               * angezeigt werden sollen oder nicht.
               * Beim Setzen des Attributs "hide-edit" werden die Buttons nicht angezeigt.
               */
               hideEdit: {
                type: Boolean,
                value: false
               },
               /*
               * `hideFilter` gibt an, ob der Filter-Button im Listen-Header
               * angezeigt werden soll oder nicht.
               * Beim Setzen des Attributs "hide-filter" wird der Button nicht angezeigt.
               */
               hideFilter: {
                 type: Boolean,
                 value: false
               },
              /*
              * `disableFilter` gibt an, ob der Filter-Button im Listen-Header
              * deaktiviert werden soll oder nicht.
              * Beim Setzen des Attributs "disable-filter" wird der Button deaktiviert.
              */
              disableFilter: {
              	type: Boolean,
              	value: false
              },
              /*
               * `disableDelete` gibt an, ob die Löschen-Buttons im Listen-Header und in den Listen-Zeilen
               * deaktiviert werden sollen oder nicht.
               * Beim Setzen des Attributs "disable-delete" werden die Buttons deaktiviert.
               */
              disableDelete: {
              	type: Boolean,
              	value: false
              },
              /*
              * `disableNew` gibt an, ob der Neu-Button im Listen-Header
              * deaktiviert werden soll oder nicht.
              * Beim Setzen des Attributs "disable-new" wird der Button deaktiviert.
              */
              disableNew: {
              	type: Boolean,
              	value: false
              },
              /*
              * `createPath` gibt an, auf welche Seite die Navigation wechseln soll, wenn der Neu-Button geklickt wurde.
              */
              createPath: {
                type: String
              },
              /*
              * `editPath` gibt an, auf welche Seite die Navigation wechseln soll, wenn der Edit-Button zu einem Datensatz geklickt wurde.
              */
              editPath: {
                type: String
              },
              /*
               * `editPaths` gibt als Alternative zu editPath eine Liste von Seiten an, auf welche die Navigation wechseln soll, wenn der Edit-Button zu einem Datensatz geklickt wurde.
               * Wird dann je nach Typ des Datensatzes ausgewählt.
               */
              editPaths: {
                 type: Object
              },
              /*
              * `icon` gibt an, welcher Icon im Suche-Hintergrund angezeigt werden soll.
              */
              icon: {
              	type: String,
              	value: 'search'
              },
              /*
               * `loadCompleteData` gibt an, ob beim Öffnen der Liste sofort alle Datensätze gesucht werden sollen
               * (Attribut load-complete-data="true") oder nicht (Standard). Ist `loadCompleteData` auf false gesetzt,
               * dann kann vor der Suche im Suche-Feld ein Wert mit folgenden Patterns eingegeben werden:
               *
               * "<wert>": Das Backend sucht in allen mit in der Barrakuda DSL "searchable" markierten Feldern nach dem eingegebenen <wert>.
               * "<tabellenname>:<wert>": Der `<tabellenname>` wird auf den entsprechenden Feldnamen im Backend gemappt und das Backend sucht den <wert> im entsprechenden Feld.
               *
              */
              loadCompleteData: {
                type: Boolean,
                value: false
              },
              /*
              * `showResults` gibt an, ob angezeigt werden soll, wieviele Datensätze gefunden wurden.
              */
              showResults: {
                type: Boolean,
                value: true
              },
              /*
              * Der Text der angezeigt wird, um die Anzahl der gefundenen Datensätze anzuzeigen.
              * Kann zur Lokalisierung verwendet werden.
              */
              resultsText: {
                type: String
              },
              showIcons: {
                type: Boolean,
                value: true //standardmäßig die Icons anzeigen
              },
              searchFilters: {
                type: Array
              },
              /** 
               * Angabe der Properties, die nicht als Spalte in der Tabelle angezeigt werden sollen.
               * Beispiel: `'["id", "name", "anschrift.strasse"]'`
               * Default: `'["id"]"`
               */
              hiddenColumns: {
                type: Array,
                value: function() { return ["id"]; }
              }          }
        }

      }

      customElements.define(TestprojectDateentitysTable.is, TestprojectDateentitysTable);
    </script>

  </dom-module>
